<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Thu May 28 14:03:34 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.codefx.libfx.collection.transform (LibFX 0.3.0 API)</title>
<meta name="date" content="2015-05-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.codefx.libfx.collection.transform (LibFX 0.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../../org/codefx/libfx/collection/tree/navigate/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/codefx/libfx/collection/transform/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.codefx.libfx.collection.transform</h1>
<div class="docSummary">
<div class="block">
 Provides transforming collections.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/EqualityTransformingCollectionBuilder.html" title="class in org.codefx.libfx.collection.transform">EqualityTransformingCollectionBuilder</a>&lt;E&gt;</td>
<td class="colLast">
<div class="block">Builds <a href="../../../../../org/codefx/libfx/collection/transform/EqualityTransformingSet.html" title="class in org.codefx.libfx.collection.transform"><code>EqualityTransformingSet</code></a>s and <a href="../../../../../org/codefx/libfx/collection/transform/EqualityTransformingMap.html" title="class in org.codefx.libfx.collection.transform"><code>EqualityTransformingMap</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/EqualityTransformingMap.html" title="class in org.codefx.libfx.collection.transform">EqualityTransformingMap</a>&lt;K,V&gt;</td>
<td class="colLast">
<div class="block">An equality transforming map allows to define the implementations of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang"><code>equals</code></a> and
 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang"><code>hashCode</code></a> which are used for the map's keys.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/EqualityTransformingSet.html" title="class in org.codefx.libfx.collection.transform">EqualityTransformingSet</a>&lt;E&gt;</td>
<td class="colLast">
<div class="block">An equality transforming set allows to define the implementations of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang"><code>equals</code></a> and
 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang"><code>hashCode</code></a> which are used by the set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/OptionalTransformingCollection.html" title="class in org.codefx.libfx.collection.transform">OptionalTransformingCollection</a>&lt;E&gt;</td>
<td class="colLast">
<div class="block">A transforming <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> which is a flattened view on a collection of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util"><code>Optional</code></a>s, i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/OptionalTransformingList.html" title="class in org.codefx.libfx.collection.transform">OptionalTransformingList</a>&lt;E&gt;</td>
<td class="colLast">
<div class="block">A transforming <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><code>List</code></a> which is a flattened view on a list of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util"><code>Optional</code></a>s, i.e.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/OptionalTransformingSet.html" title="class in org.codefx.libfx.collection.transform">OptionalTransformingSet</a>&lt;E&gt;</td>
<td class="colLast">
<div class="block">A transforming <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> which is a flattened view on a set of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html?is-external=true" title="class or interface in java.util"><code>Optional</code></a>s, i.e.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingCollection.html" title="class in org.codefx.libfx.collection.transform">TransformingCollection</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> which decorates another collection and transforms the element type from the inner type <code>I</code>
 to an outer type <code>O</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingCollectionBuilder.html" title="class in org.codefx.libfx.collection.transform">TransformingCollectionBuilder</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">Builder for <a href="../../../../../org/codefx/libfx/collection/transform/TransformingCollection.html" title="class in org.codefx.libfx.collection.transform"><code>TransformingCollection</code></a>s, <a href="../../../../../org/codefx/libfx/collection/transform/TransformingSet.html" title="class in org.codefx.libfx.collection.transform"><code>TransformingSet</code></a>s and <a href="../../../../../org/codefx/libfx/collection/transform/TransformingList.html" title="class in org.codefx.libfx.collection.transform"><code>TransformingList</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingIterator.html" title="class in org.codefx.libfx.collection.transform">TransformingIterator</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">An <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util"><code>Iterator</code></a> which wraps another iterator and transforms the returned elements from their inner type <code>I</code>
 to an outer type <code>O</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingList.html" title="class in org.codefx.libfx.collection.transform">TransformingList</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><code>List</code></a> which decorates another list and transforms the element type from the inner type <code>I</code> to an outer
 type <code>O</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingListIterator.html" title="class in org.codefx.libfx.collection.transform">TransformingListIterator</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html?is-external=true" title="class or interface in java.util"><code>ListIterator</code></a> which wraps another list iterator and transforms elements from an inner type <code>I</code> to an
 outer type <code>O</code> and vice versa.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingMap.html" title="class in org.codefx.libfx.collection.transform">TransformingMap</a>&lt;IK,OK,IV,OV&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> which decorates another map and transforms the key and value types from the inner types <code>IK</code>,
 <code>IV</code> to outer types <code>OK</code>, <code>OV</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingMapBuilder.html" title="class in org.codefx.libfx.collection.transform">TransformingMapBuilder</a>&lt;IK,OK,IV,OV&gt;</td>
<td class="colLast">
<div class="block">Builder for <a href="../../../../../org/codefx/libfx/collection/transform/TransformingMap.html" title="class in org.codefx.libfx.collection.transform"><code>TransformingMap</code></a>s.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingSet.html" title="class in org.codefx.libfx.collection.transform">TransformingSet</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> which decorates another set and transforms the element type from the inner type <code>I</code> to an outer
 type <code>O</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../org/codefx/libfx/collection/transform/TransformingSpliterator.html" title="class in org.codefx.libfx.collection.transform">TransformingSpliterator</a>&lt;I,O&gt;</td>
<td class="colLast">
<div class="block">A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html?is-external=true" title="class or interface in java.util"><code>Spliterator</code></a> which wraps another spliterator and transforms the returned elements from an inner type
 <code>I</code> to an outer type <code>O</code> and vice versa.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.codefx.libfx.collection.transform Description">Package org.codefx.libfx.collection.transform Description</h2>
<div class="block"><p>
 Provides transforming collections.
 </p>
 <h2>Overview</h2>
 <p>
 A transforming collection is essentially a decorator of an existing collection which transforms the collection's
 elements from one type to another. Note that all such classes are views! They operate on the wrapped collection and
 all changes to either of them is reflected in the other.
 <p>
 The decorated collection is usually referred to as the <i>inner collection</i> and it's generic type accordingly as
 the <i>inner type</i>. The transforming collection and its generic type are referred to as <i>outer collection</i>
 and <i>outer type</i>, respectively.
 </p>
 <h2>Details</h2>
 <p>
 The following details are important to use transforming collections without unexpected problems.
 </p>
 <h3>Forwarding</h3>
 <p>
 Unless otherwise noted the views forward all method calls (of abstract and default methods existing in JDK 8) to
 <b>the same method</b> on the inner collection. This implies that all guarantees made by such methods (e.g. regarding
 atomicity) are upheld by the transformation.
 </p>
 <h3>Transformation</h3>
 <p>
 The transformation is computed with a pair of functions. One is used to transform outer elements to inner elements
 and another one for the other direction. In the case of a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> two such pairs exist: one for
 keys and one for values.
 <p>
 The transforming functions must be inverse to each other with regard to <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang"><code>equals</code></a>, i.e. <code>outer.equals(toOuter(toInner(outer))</code> and <code>inner.equals(toInner(toOuter(inner))</code> must be
 true for all <code>outer</code> and <code>inner</code> elements. If this is not the case, the collections might behave in an
 unpredictable manner.
 <p>
 Note that the same is not true for identity, i.e. <code>outer == toOuter(toInner(outer))</code> may be false. It is
 explicitly allowed to create new outer elements from inner elements and vice versa. This means that outer elements
 may have no meaningful identity. E.g. on adding an outer instance <code>outerOrg</code> it can be transformed to
 <code>inner</code> and on access back to <code>outer</code>. Whether <code>outerOrg == outer</code> holds, depends on the
 transformation functions and is generally unspecified - it might never, sometimes or always be true. Transforming
 collections might give more details on their behavior regarding this.
 <p>
 A special case of transformation occurs when the inner and outer type have a type relationship. This can shortcut one
 of the transformations to the identity, i.e. because an instance of one type is also of the other type the
 corresponding transformation can simply return the instance itself. This makes the collection "leak" elements of the
 wrong type. If the suptype does not fully obey the <a
 href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a> this can lead to
 unexpected behavior.
 <p>
 Transforming functions should have no side effects. No guarantees are made regarding how often transformations are
 called.
 </p>
 <h3>Type Safety</h3>
 <p>
 All operations on transforming collections are type safe in the usual static, compile-time way. But since many
 methods from the collection interfaces allow <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang"><code>Object</code></a>s (e.g
 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#contains-java.lang.Object-" title="class or interface in java.util"><code>Collection.contains(Object)</code></a>) or collections of unknown generic type
 (e.g <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#addAll-java.util.Collection-" title="class or interface in java.util"><code>Collection.addAll(Collection&lt;?&gt;)</code></a>) as arguments,
 this does not cover all cases which can occur at runtime.
 <p>
 If one of those methods is called with a type which does not match the transforming collection's outer type the
 method may throw a <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassCastException.html?is-external=true" title="class or interface in java.lang"><code>ClassCastException</code></a>. While this is in accordance with the
 methods' contracts it might still be unexpected.
 <p>
 One way to circumvent this to pay close attention when using the collection and ensuring that such calls can not
 occur (which is often easy). Another way is to write wrappers which catch and silently ignore the exception.
 </p>
 <h2>Similar Features From Other Libraries</h2>
 <p>
 To my (<a href="http://blog.codefx.org/about-nicolai-parlog/">nipa</a>'s) knowledge two other libraries offer similar
 functionality, namely <a href="http://commons.apache.org/proper/commons-collections/">Apache Commons Collections</a>
 and <a href="https://github.com/google/guava">Google Guava</a>. Both have shortcomings which this implementation aims
 to overcome.
 </p>
 <h3>Apache Commons Collections</h3>
 <p>
 Commons provides the <a href=
 "https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/collection/TransformedCollection.html"
 > <code>TransformedCollection</code></a>. It only affects add methods,
 "thus objects must be removed or searched for using their transformed form." The implementations in this package
 suffer from no such limitation.
 </p>
 <h3>Google Guava</h3>
 <p>
 Guava contains a utility method <a href=
 "http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html#transform%28java.util.List,%20com.google.common.base.Function%29"
 ><code>transform(List, Function)</code></a> which returns a transformed view of the specified map. But
 "the transform is one-way and new items cannot be stored in the returned list." The implementations in this package
 explicitly allow editing both instances.
 </p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../../org/codefx/libfx/collection/tree/navigate/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/codefx/libfx/collection/transform/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>This documentation is licensed under 							<a href="https://creativecommons.org/licenses/by/4.0/" title="CC-BY 4.0">CC-BY 4.0</a>, 							attributed to Nicolai Parlog from  							<a href="http://codefx.org" title="CodeFX">CodeFX</a>.</small></p>
</body>
</html>
